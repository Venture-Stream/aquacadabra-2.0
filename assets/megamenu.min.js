(()=>{class e extends HTMLElement{constructor(){super();var e=this.querySelectorAll("[data-index]"),t=this.querySelectorAll("[data-sub-menu]"),s=document.getElementById("MainContent"),a=document.querySelector("header"),r=this.querySelectorAll("[data-toplevel-link]"),o=this.querySelectorAll(".site-nav__child-link");e.forEach((s=>{s.addEventListener("mouseover",(()=>{setTimeout(this.revealHeader(s,t,e),200)}))})),t.forEach((s=>{s.addEventListener("mouseenter",(()=>{var e=s.getAttribute("data-main");document.querySelector('[data-index="'+e+'"]')})),s.addEventListener("mouseleave",(()=>{this.closeMenus(e,t)}))})),a.addEventListener("mouseenter",(()=>{this.closeMenus(e,t)})),s.addEventListener("mouseenter",(()=>{this.closeMenus(e,t)})),r.forEach((e=>{e.addEventListener("mouseover",(()=>{let t=e.closest(".site-nav__childlist");this.showThirdLevel(e,t)}))})),o.forEach((e=>{e.addEventListener("mouseover",(e=>{this.stopImmediatePropagation(e)}))}))}revealHeader(e,t,s){this.closeMenus(s,t),e.classList.remove("text-white"),e.classList.add("text-brand-orange");var a=e.querySelector("svg");if(a&&a.classList.add("rotate-180"),e.matches(":hover")){var r=e.getAttribute("data-index");document.querySelector("[data-sub-"+r+"]").classList.remove("hidden")}}closeMenus(e,t){e.forEach((e=>{e.classList.add("text-white"),e.classList.remove("text-brand-orange");var t=e.querySelector("svg");t&&t.classList.remove("rotate-180")})),t.forEach((e=>{e.classList.add("hidden")}))}showThirdLevel(e,t){let s=e.getAttribute("data-toplevel-link"),a=t.querySelectorAll(".third-level__dropdown");for(let e=0;e<a.length;e++){let t=a[e],r=t.getAttribute("data-toplevel-submenu");t.classList.remove("active"),r==s&&t.classList.add("active")}}stopImmediatePropagation(e){e.stopImmediatePropagation()}}customElements.define("mega-menu",e)})();